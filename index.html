<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Mock Interview Speaking Trainer (B1) - Expanded</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --primary-300:#F9C97A; --primary-500:#F4A329; --primary-700:#B45309;
      --secondary-300:#7EDAD6; --secondary-500:#2BB6B4; --secondary-700:#0F766E;
      --bg:#FFF7F2; --surface:#FFFFFF; --surface-alt:#F5F7FA; --border:#E6E9EF;
      --text:#1F2937; --text-2:#4B5563; --text-muted:#6B7280;
    }
    body{ font-family:"Inter","Nunito",sans-serif; background-color: var(--bg); color: var(--text); }
    .card { background: var(--surface); border-radius: 16px; border: 1px solid var(--border); box-shadow: 0 4px 6px -1px rgba(0,0,0,0.05); }
    
    /* Wizard Pills */
    .btn-pill { padding: 0.75rem 1.5rem; border-radius: 9999px; font-weight: 600; border: 2px solid var(--border); background: white; color: var(--text-muted); transition: 0.2s; }
    .btn-pill.active { border-color: var(--secondary-500); background: var(--secondary-500); color: white; }
    
    /* Topic Selection */
    .topic-chip { padding: 0.6rem 1.2rem; border-radius: 9999px; border: 2px solid var(--border); background: white; cursor: pointer; transition: 0.2s; font-weight: 600; font-size: 0.9rem; }
    .topic-chip.selected { border-color: var(--primary-500); background: var(--primary-300); color: var(--primary-700); }
    
    /* Range Sliders */
    input[type="range"] { accent-color: var(--secondary-500); }
    
    .btn-main { background: var(--primary-500); color: white; padding: 1rem; border-radius: 12px; font-weight: 700; transition: 0.2s; }
    .btn-main:hover { background: var(--primary-700); }
    .btn-next { background: var(--secondary-500); color: white; padding: 1rem; border-radius: 12px; font-weight: 700; }
  </style>
</head>
<body class="min-h-screen p-4 md:p-8">

  <div class="max-w-2xl mx-auto">
    <header class="flex justify-between items-center mb-8">
      <h1 class="text-xl font-bold text-gray-800">Mock Interview Trainer</h1>
      <button id="btnExit" class="hidden text-sm font-semibold text-secondary-700">← Exit to Menu</button>
    </header>

    <div id="step-role" class="space-y-6">
      <div class="card p-8 text-center">
        <h2 class="text-2xl font-bold mb-6 text-primary-700">1. Select your role</h2>
        <div class="flex justify-center gap-4">
          <button id="roleExaminer" class="btn-pill active">Examiner</button>
          <button id="roleCandidate" class="btn-pill">Candidate</button>
        </div>
        <button onclick="showStep('topic')" class="btn-main w-full mt-10">Next</button>
      </div>
    </div>

    <div id="step-topic" class="hidden space-y-6">
      <div class="card p-8">
        <h2 class="text-2xl font-bold mb-2 text-center text-primary-700">2. Select Topics</h2>
        <p class="text-center text-gray-500 mb-8">Click to pick one or more categories</p>
        <div id="topicGrid" class="flex flex-wrap justify-center gap-3"></div>
        <div class="mt-10 flex gap-4">
          <button onclick="showStep('role')" class="flex-1 bg-gray-100 py-3 rounded-xl font-bold text-gray-500">Back</button>
          <button id="btnStart" class="flex-[2] btn-main">Start Interview</button>
        </div>
      </div>
    </div>

    <div id="viewRound" class="hidden space-y-6">
      <div class="card p-8 min-h-[380px] flex flex-col justify-center">
        <div id="examinerDisplay">
          <div class="mb-8">
            <span class="text-xs font-bold text-secondary-500 uppercase tracking-widest">Question</span>
            <p id="mainQ" class="text-2xl font-semibold mt-2 text-gray-800"></p>
            <p id="reQ" class="text-base text-gray-400 mt-2 italic border-l-4 border-primary-300 pl-4"></p>
          </div>
          <div class="pt-6 border-t border-gray-100">
            <span class="text-xs font-bold text-primary-700 uppercase tracking-widest">Follow-ups</span>
            <ul id="followList" class="mt-3 space-y-2 text-gray-600 font-medium"></ul>
          </div>
        </div>
        <div id="candidateDisplay" class="hidden text-center">
          <p class="text-2xl font-medium text-gray-400 italic">Please listen to the Examiner...</p>
        </div>
      </div>
      <div class="flex gap-4">
        <button id="btnNext" class="btn-next flex-1 shadow-lg">Next Question</button>
        <button id="btnFinish" class="flex-1 bg-gray-800 text-white py-4 rounded-xl font-bold">End & Score</button>
      </div>
    </div>

    <div id="viewScoring" class="hidden space-y-6">
      <div class="card p-8">
        <h2 class="text-2xl font-bold mb-8 text-center text-primary-700">Assessment</h2>
        <div id="scoreSliders" class="space-y-6"></div>
        <textarea id="notes" class="w-full mt-8 p-4 border border-gray-200 rounded-xl bg-gray-50 h-32 focus:ring-2 focus:ring-secondary-500 outline-none" placeholder="Add feedback notes..."></textarea>
        <div class="grid grid-cols-2 gap-4 mt-8">
          <button id="btnCopy" class="btn-next">Copy Report</button>
          <button onclick="location.reload()" class="bg-gray-100 text-gray-700 py-4 rounded-xl font-bold">New Session</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    const DB = {
      personality_family: [
        {q:"How would you describe your personality in three words?", re:"Describe yourself in three words.", f:["Why did you choose those words?","Can you give a real example?"]},
        {q:"Are you more like your mother or your father? In what way?", re:"Are you similar to your mother or father?", f:["What is one thing you share?","Is that good or bad? Why?"]},
        {q:"What is one thing your family does together every week?", re:"What do you do together as a family?", f:["Who usually starts it?","Do you enjoy it? Why?"]},
        {q:"Who do you talk to when you have a problem? Why?", re:"Who helps you when you have a problem?", f:["What kind of problems?","Do you prefer talking or texting?"]},
        {q:"Are you more quiet or more talkative at home? Why?", re:"At home, are you quiet or talkative?", f:["Is it different at school?","What makes you change?"]},
        {q:"What is one good habit you learned from your family?", re:"What good habit did your family teach you?", f:["How do you use it today?","Do you want to teach it to others?"]},
        {q:"Do you think personality can change as you grow older? Why / why not?", re:"Can people change their personality?", f:["What can change it?","Have you changed?"]},
        {q:"Who is the funniest person in your family? What makes them funny?", re:"Who is the funniest in your family?", f:["Tell me a funny moment.","Are they funny on purpose?"]},
        {q:"How is your personality different with friends and with family?", re:"Are you different with friends vs family?", f:["Why is it different?","Which ‘you’ is the real one?"]},
        {q:"What is one thing you would like your family to understand better about you?", re:"What should your family understand about you?", f:["How could you tell them?","What would change?"]}
      ],
      home_area: [
        {q:"Do you live in a flat or a house? What do you like about it?", re:"Do you live in a flat or a house? What’s good about it?", f:["What don’t you like?","What is your favourite room?"]},
        {q:"What is your neighbourhood like: quiet, busy, friendly, boring?", re:"Describe your neighbourhood.", f:["What do people do there?","Is it safe?"]},
        {q:"Is there a place near your home where you like to spend time?", re:"Where do you like to go near your home?", f:["Who do you go with?","What do you do there?"]},
        {q:"What do you like most about the town or village where you live?", re:"What’s the best thing about your town/village?", f:["What’s the worst thing?","Would you recommend it?"]},
        {q:"What is one problem in your neighbourhood?", re:"What problem does your neighbourhood have?", f:["How could it be solved?","Does it affect you?"]},
        {q:"Do you know your neighbours well, or not really?", re:"Do you know your neighbours?", f:["Is that common where you live?","Would you like to know them better?"]},
        {q:"Is your home more for relaxing or for studying? Why?", re:"At home, do you relax or study more?", f:["Where do you study?","What helps you focus?"]},
        {q:"How far is your school from your home, and how do you get there?", re:"How do you travel to school?", f:["How long does it take?","Do you like the journey?"]},
        {q:"Would you like to live somewhere else in the future? Where?", re:"Would you move in the future? Where?", f:["City or countryside?","Why there?"]},
        {q:"What would you change about your home or neighbourhood if you could?", re:"If you could change one thing, what would it be?", f:["Why that change?","How would it help people?"]}
      ],
      health_sports: [
        {q:"What do you do to stay healthy?", re:"How do you stay healthy?", f:["What’s easy for you?","What’s difficult?"]},
        {q:"Do you play any sport or do any regular exercise? Why / why not?", re:"Do you do sport? Why / why not?", f:["How often?","With friends or alone?"]},
        {q:"What is your favourite sport to watch and to do?", re:"What sport do you like to watch and do?", f:["Why that sport?","Who do you watch?"]},
        {q:"How important is sleep for you on school days?", re:"Is sleep important for you on school days?", f:["How many hours do you get?","What happens if you sleep less?"]},
        {q:"What food do you think is healthy but you don’t really like?", re:"What healthy food do you dislike?", f:["Why don’t you like it?","How could you eat it?"]},
        {q:"How much time do you spend sitting every day?", re:"How much do you sit every day?", f:["When do you sit the most?","How could you move more?"]},
        {q:"What do you do when you feel stressed or tired?", re:"What helps you when you’re stressed or tired?", f:["Does sport help?","Do you talk to someone?"]},
        {q:"Is competition good or bad in sports? Why?", re:"Is competition good or bad in sport?", f:["When is it too much?","What about school sports?"]},
        {q:"Do you think teenagers have enough exercise today? Why / why not?", re:"Do teenagers exercise enough today?", f:["What stops them?","What could schools do?"]},
        {q:"What small change could make your lifestyle healthier?", re:"What small change would help your health?", f:["Would you really do it?","When will you start?"]}
      ],
      daily_routine: [
        {q:"What time do you usually wake up on school days?", re:"When do you wake up on school days?", f:["Is it easy for you?","What time do you go to bed?"]},
        {q:"What is the first thing you do in the morning?", re:"What do you do first in the morning?", f:["Do you eat breakfast?","Do you check your phone?"]},
        {q:"What part of the school day do you like the most? Why?", re:"Which part of school do you like most?", f:["What subject is it?","What makes it good?"]},
        {q:"What do you usually do after school?", re:"What do you do after school?", f:["Do you have clubs?","Do you rest first?"]},
        {q:"How much time do you spend on homework every day?", re:"How long do you do homework?", f:["Which subject takes longest?","Do you study well at home?"]},
        {q:"How much time do you spend on your phone or computer?", re:"How long are you on your phone/computer?", f:["What do you do there?","Is it too much?"]},
        {q:"What do you do in the evening to relax?", re:"How do you relax in the evening?", f:["Alone or with others?","Does it help you sleep?"]},
        {q:"Is your daily routine the same every day, or different?", re:"Is your routine the same or different?", f:["What changes it?","Weekdays vs weekends?"]},
        {q:"What is one thing you waste too much time on?", re:"What do you waste time on?", f:["Why do you do it?","How could you reduce it?"]},
        {q:"What would your perfect weekday look like?", re:"Describe your perfect weekday.", f:["What would you change?","What would you keep?"]}
      ],
      environment: [
        {q:"Do you recycle at home?", re:"How do you recycle at home?", f:["Why is it important?","What else could you recycle?"]},
        {q:"Is pollution a problem in your town?", re:"What about pollution in your town?", f:["Is it air or water pollution?","What causes it?"]},
        {q:"Do you use public transport often?", re:"Do you use buses or trains?", f:["Is it expensive?","Is it reliable?"]},
        {q:"How do you save energy at home?", re:"What do you do to save electricity?", f:["Do you turn off lights?","Is your family helpful?"]},
        {q:"Do you buy organic food?", re:"Is organic food important for you?", f:["Is it too expensive?","Where do you buy it?"]},
        {q:"Do you like spending time in nature?", re:"What do you do in nature?", f:["Mountains or sea?","How often do you go?"]},
        {q:"What is the biggest environmental problem today?", re:"What's the main issue?", f:["How can we fix it?","Who should do more?"]},
        {q:"Do you prefer plastic or paper bags?", re:"Which bag do you use?", f:["Why?","Do you reuse them?"]},
        {q:"Is your school eco-friendly?", re:"How green is your school?", f:["Do they have recycle bins?","Are there green clubs?"]},
        {q:"Would you like to live in an eco-city?", re:"Would you live in a very green city?", f:["What would it look like?","What would be different?"]}
      ],
      work_life: [
        {q:"What is your dream job?", re:"What job do you want?", f:["Why this job?","What skills do you need?"]},
        {q:"Would you like to work in an office?", re:"Is office work for you?", f:["Why / why not?","What is a typical day like?"]},
        {q:"Is a high salary important?", re:"Do you care about money in a job?", f:["What else matters?","Would you work for less if it's fun?"]},
        {q:"Do you want to work abroad?", re:"Would you work in another country?", f:["Which country?","Why there?"]},
        {q:"Is teamwork better than working alone?", re:"Team or solo work?", f:["Why?","Are you a good leader?"]},
        {q:"What was your first work experience?", re:"Tell me about your first job.", f:["What did you learn?","Did you like it?"]},
        {q:"How many hours should people work?", re:"What is a good work schedule?", f:["Is 8 hours too much?","What about 4-day weeks?"]},
        {q:"Do you like wearing a uniform?", re:"Uniform or casual clothes?", f:["Why?","Does it look professional?"]},
        {q:"What makes a boss good?", re:"What is a good manager like?", f:["Should they be strict?","Should they be friendly?"]},
        {q:"Are robots going to take all jobs?", re:"Will AI replace workers?", f:["Which jobs are safe?","Is it scary?"]}
      ],
      food_cooking: [
        {q:"What is your favorite food?", re:"What do you love eating?", f:["How often do you eat it?","Can you cook it?"]},
        {q:"Do you like cooking for others?", re:"Do you cook for your family?", f:["What is your best dish?","Is it difficult?"]},
        {q:"Is fast food popular in your country?", re:"Do people eat much fast food?", f:["Is it healthy?","Why is it popular?"]},
        {q:"What is a traditional meal in your country?", re:"Tell me about a local dish.", f:["What are the ingredients?","When do you eat it?"]},
        {q:"Do you prefer eating at home or out?", re:"Home or restaurant?", f:["Why?","Which restaurant is your favorite?"]},
        {q:"Are you a picky eater?", re:"Do you eat everything?", f:["What do you hate?","Why?"]},
        {q:"Is breakfast the most important meal?", re:"Do you always eat breakfast?", f:["What do you eat?","What if you skip it?"]},
        {q:"Do you watch cooking shows?", re:"Do you like TV chefs?", f:["Which show?","Do you try the recipes?"]},
        {q:"Is sugar bad for health?", re:"Do you eat many sweets?", f:["How can we eat less?","What are the alternatives?"]},
        {q:"What is your favorite fruit?", re:"Which fruit do you like best?", f:["Is it easy to find?","How do you eat it?"]}
      ],
      culture_leisure: [
        {q:"Do you like going to the cinema?", re:"How often do you go to movies?", f:["What was the last film?","Who did you go with?"]},
        {q:"What kind of music do you like?", re:"What is your favorite genre?", f:["Who is your favorite artist?","Do you play an instrument?"]},
        {q:"Do you enjoy visiting museums?", re:"Are museums interesting to you?", f:["Which one was the best?","What did you see?"]},
        {q:"Do you watch much TV?", re:"How much TV do you watch?", f:["What series?","Is Netflix better?"]},
        {q:"Do you like live concerts?", re:"Have you been to a concert?", f:["Who was playing?","Was it loud?"]},
        {q:"Is reading better than movies?", re:"Books or films?", f:["Why?","What was the last book?"]},
        {q:"Do you go to the theater?", re:"Do you like plays?", f:["Is it boring?","When was the last time?"]},
        {q:"What is your favorite hobby?", re:"What do you do for fun?", f:["How did you start?","Is it expensive?"]},
        {q:"Do you like famous celebrities?", re:"Do you follow stars?", f:["Who?","Why?"]},
        {q:"Is cultural life important in your city?", re:"Are there many events?", f:["Festivals?","Exhibitions?"]}
      ],
      science_tech: [
        {q:"Which technical device is most useful?", re:"What's your best gadget?", f:["Smartphone or laptop?","Why?"]},
        {q:"Do you like science at school?", re:"Is science a good subject?", f:["Biology or Physics?","Why?"]},
        {q:"Is technology making us lazy?", re:"Are we too dependent on tech?", f:["Why?","What could we do without?"]},
        {q:"What is the best invention ever?", re:"What's the greatest discovery?", f:["Internet or Wheel?","Why?"]},
        {q:"Do you like video games?", re:"Are you a gamer?", f:["Which games?","Is it a waste of time?"]},
        {q:"Is social media dangerous?", re:"What are the risks of apps?", f:["Privacy?","Bullying?"]},
        {q:"Will we live on Mars?", re:"Space travel: yes or no?", f:["Would you go?","Is it worth the money?"]},
        {q:"Is the internet always right?", re:"Can we trust everything online?", f:["Fake news?","How to check?"]},
        {q:"Do you use AI for school?", re:"Do you use ChatGPT?", f:["Is it cheating?","How does it help?"]},
        {q:"What tech will we have in 50 years?", re:"Future tech?", f:["Flying cars?","Teleportation?"]}
      ],
      finance: [
        {q:"Who manages money in your family?", re:"Who pays the bills?", f:["Do you help?","Do you talk about it?"]},
        {q:"Do you get pocket money?", re:"Do you have your own money?", f:["How much?","What do you buy?"]},
        {q:"Is it important to save money?", re:"Should we save for the future?", f:["What are you saving for?","Is it hard?"]},
        {q:"Is life expensive today?", re:"Are prices too high?", f:["What is most expensive?","How can we save?"]},
        {q:"Should kids learn about money?", re:"Finance at school?", f:["Why?","What should they learn?"]},
        {q:"Do you like shopping?", re:"Is shopping a hobby?", f:["Online or shops?","Why?"]},
        {q:"Is money the most important thing?", re:"Can money buy happiness?", f:["What is better?","Why?"]},
        {q:"Do you use a bank card?", re:"Card or cash?", f:["Why?","Is cash disappearing?"]},
        {q:"What would you buy if you were rich?", re:"Lottery win?", f:["A house?","A car?"]},
        {q:"Is it okay to borrow money?", re:"Should we take loans?", f:["From friends?","From banks?"]}
      ]
    };

    const criteria = ["Grammar", "Fluency", "Vocabulary", "Pronunciation", "Task Achievement"];
    let state = { role: 'examiner', selectedTopics: [], activePool: [] };

    function init() {
      const grid = document.getElementById('topicGrid');
      Object.keys(DB).forEach(key => {
        const div = document.createElement('div');
        div.className = 'topic-chip';
        div.textContent = key.replace('_', ' ').toUpperCase();
        div.onclick = () => {
          div.classList.toggle('selected');
          if(state.selectedTopics.includes(key)) state.selectedTopics = state.selectedTopics.filter(t => t !== key);
          else state.selectedTopics.push(key);
        };
        grid.appendChild(div);
      });

      const sliders = document.getElementById('scoreSliders');
      criteria.forEach(c => {
        sliders.innerHTML += `
          <div>
            <div class="flex justify-between font-bold mb-2"><span>${c}</span><span id="val-${c}" class="text-secondary-500">3/5</span></div>
            <input type="range" min="1" max="5" value="3" class="w-full" oninput="document.getElementById('val-${c}').textContent = this.value + '/5'">
          </div>`;
      });
    }

    function showStep(s) {
      document.querySelectorAll('[id^="step-"]').forEach(d => d.classList.add('hidden'));
      document.getElementById('step-' + s).classList.remove('hidden');
    }

    document.getElementById('roleExaminer').onclick = () => { state.role = 'examiner'; document.getElementById('roleExaminer').classList.add('active'); document.getElementById('roleCandidate').classList.remove('active'); };
    document.getElementById('roleCandidate').onclick = () => { state.role = 'candidate'; document.getElementById('roleCandidate').classList.add('active'); document.getElementById('roleExaminer').classList.remove('active'); };

    document.getElementById('btnStart').onclick = () => {
      if(state.selectedTopics.length === 0) return alert("Select at least one topic!");
      state.activePool = state.selectedTopics.flatMap(t => DB[t]);
      document.getElementById('step-topic').classList.add('hidden');
      document.getElementById('viewRound').classList.remove('hidden');
      document.getElementById('btnExit').classList.remove('hidden');
      document.getElementById('examinerDisplay').classList.toggle('hidden', state.role === 'candidate');
      document.getElementById('candidateDisplay').classList.toggle('hidden', state.role === 'examiner');
      updateQuestion();
    };

    function updateQuestion() {
      const item = state.activePool[Math.floor(Math.random() * state.activePool.length)];
      document.getElementById('mainQ').textContent = item.q;
      document.getElementById('reQ').textContent = item.re;
      document.getElementById('followList').innerHTML = item.f.map(f => `<li>• ${f}</li>`).join('');
    }

    document.getElementById('btnNext').onclick = updateQuestion;
    document.getElementById('btnFinish').onclick = () => {
      document.getElementById('viewRound').classList.add('hidden');
      document.getElementById('viewScoring').classList.remove('hidden');
    };
    document.getElementById('btnExit').onclick = () => location.reload();

    document.getElementById('btnCopy').onclick = () => {
      let r = "MOCK INTERVIEW REPORT\n\n";
      criteria.forEach(c => r += `${c}: ${document.querySelector('[oninput*="val-'+c+'"]').value}/5\n`);
      r += `\nNotes: ${document.getElementById('notes').value}`;
      navigator.clipboard.writeText(r);
      alert("Report copied to clipboard!");
    };

    init();
  </script>
</body>
</html>
